name: test snippets

on:
  workflow_dispatch:
    inputs:
      debug:
        type: boolean
        description: Printa dei valori che aiutano il debug
        default: false
      incrementVersion:
        type: boolean
        description: Printa dei valori che aiutano il debug
        default: false
      uploadWorkFlavour:
        type: boolean
        description: Printa dei valori che aiutano il debug
        default: false

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Read Properties
        run: |
          gradlePropertyFileName="gradle.properties"
          appDemoVersionCode=$(grep -E "^[^#]*APP_DEMO_VERSION_CODE=" "$gradlePropertyFileName" | cut -d'=' -f2-)
          releaseVersionName=$(grep -E "^[^#]*RELEASE_VERSION_NAME=" "$gradlePropertyFileName" | cut -d'=' -f2-)
          buildMavenSdkVersion=$(grep -E "^[^#]*BUILD_MAVEN_SDK_VERSION=" "$gradlePropertyFileName" | cut -d'=' -f2-)
          echo "APP_DEMO_VERSION_CODE=$appDemoVersionCode"
          echo "RELEASE_VERSION_NAME=$releaseVersionName"
          echo "BUILD_MAVEN_SDK_VERSION=$buildMavenSdkVersion"
